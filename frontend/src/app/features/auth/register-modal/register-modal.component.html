<div class="modal-backdrop" (click)="onBackdropClick($event)">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Criar Conta</h2>
      <button class="close-button" (click)="onCancel()" type="button">×</button>
    </div>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
      <div class="form-group">
        <label for="username">Usuário</label>
        <app-input
          id="username"
          formControlName="username"
          placeholder="Digite seu usuário"
          [error]="getErrorMessage('username')"
        />
      </div>

      <div class="form-group">
        <label for="password">Senha</label>
        <app-input
          id="password"
          type="password"
          formControlName="password"
          placeholder="Digite sua senha"
          [error]="getErrorMessage('password')"
        />
      </div>

      <div class="form-group">
        <label for="confirmPassword">Confirmar Senha</label>
        <app-input
          id="confirmPassword"
          type="password"
          formControlName="confirmPassword"
          placeholder="Confirme sua senha"
          [error]="getErrorMessage('confirmPassword')"
        />
      </div>

      @if (errorMessage) {
        <div class="error-banner">
          {{ errorMessage }}
        </div>
      }

      <div class="modal-actions">
        <app-button
          type="button"
          variant="secondary"
          (clicked)="onCancel()"
          [disabled]="isLoading"
        >
          Cancelar
        </app-button>
        <app-button
          type="submit"
          [disabled]="registerForm.invalid || isLoading"
        >
          {{ isLoading ? 'Criando...' : 'Criar Conta' }}
        </app-button>
      </div>
    </form>
  </div>
</div>
